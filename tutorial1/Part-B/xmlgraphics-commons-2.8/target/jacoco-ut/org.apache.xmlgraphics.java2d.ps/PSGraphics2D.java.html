<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PSGraphics2D.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">org.apache.xmlgraphics:xmlgraphics-commons</a> &gt; <a href="index.source.html" class="el_package">org.apache.xmlgraphics.java2d.ps</a> &gt; <span class="el_source">PSGraphics2D.java</span></div><h1>PSGraphics2D.java</h1><pre class="source lang-java linenums">/* $$ This file has been instrumented by Clover 4.5.2#20240131180750 $$ *//*
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/* $Id: PSGraphics2D.java 1903802 2022-09-01 09:35:58Z ssteiner $ */

package org.apache.xmlgraphics.java2d.ps;

//Java
import java.awt.AlphaComposite;
import java.awt.BasicStroke;
import java.awt.Color;
import java.awt.Composite;
import java.awt.Dimension;
import java.awt.GradientPaint;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.GraphicsConfiguration;
import java.awt.Image;
import java.awt.Paint;
import java.awt.Rectangle;
import java.awt.Shape;
import java.awt.Stroke;
import java.awt.TexturePaint;
import java.awt.geom.AffineTransform;
import java.awt.geom.Area;
import java.awt.geom.Line2D;
import java.awt.geom.PathIterator;
import java.awt.geom.Rectangle2D;
import java.awt.image.BufferedImage;
import java.awt.image.ImageObserver;
import java.awt.image.RenderedImage;
import java.awt.image.renderable.RenderableImage;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import org.apache.xmlgraphics.java2d.AbstractGraphics2D;
import org.apache.xmlgraphics.java2d.GraphicContext;
import org.apache.xmlgraphics.java2d.GraphicsConfigurationWithoutTransparency;
import org.apache.xmlgraphics.java2d.StrokingTextHandler;
import org.apache.xmlgraphics.java2d.TextHandler;
import org.apache.xmlgraphics.ps.PSGenerator;
import org.apache.xmlgraphics.ps.PSImageUtils;

/**
 * This is a concrete implementation of &lt;tt&gt;AbstractGraphics2D&lt;/tt&gt; (and
 * therefore of &lt;tt&gt;Graphics2D&lt;/tt&gt;) which is able to generate PostScript
 * code.
 *
 * @version $Id: PSGraphics2D.java 1903802 2022-09-01 09:35:58Z ssteiner $
 * @see org.apache.xmlgraphics.java2d.AbstractGraphics2D
 *
 * Originally authored by Keiron Liddle.
 */
<span class="pc bpc" id="L69" title="3 of 4 branches missed.">@java.lang.SuppressWarnings({&quot;fallthrough&quot;}) public class PSGraphics2D extends AbstractGraphics2D {public static class __CLR4_5_2c9zc9zm68iyhxt{public static com_atlassian_clover.CoverageRecorder R;public static com_atlassian_clover.CloverProfile[] profiles = { };@java.lang.SuppressWarnings(&quot;unchecked&quot;) public static &lt;I, T extends I&gt; I lambdaInc(final int i,final T l,final int si){java.lang.reflect.InvocationHandler h=new java.lang.reflect.InvocationHandler(){public java.lang.Object invoke(java.lang.Object p,java.lang.reflect.Method m,java.lang.Object[] a) throws Throwable{R.inc(i);R.inc(si);try{return m.invoke(l,a);}catch(java.lang.reflect.InvocationTargetException e){throw e.getCause()!=null?e.getCause():new RuntimeException(&quot;Clover failed to invoke instrumented lambda&quot;,e);}}};return (I)java.lang.reflect.Proxy.newProxyInstance(l.getClass().getClassLoader(),l.getClass().getInterfaces(),h);}public static &lt;T&gt; T caseInc(int i,java.util.function.Supplier&lt;T&gt; s){R.inc(i);return s.get();}public static void caseInc(int i,Runnable r){R.inc(i);r.run();}static{com_atlassian_clover.CoverageRecorder _R=null;try{com_atlassian_clover.CloverVersionInfo.An_old_version_of_clover_is_on_your_compilation_classpath___Please_remove___Required_version_is___4_5_2();if(20240131180750L!=com_atlassian_clover.CloverVersionInfo.getBuildStamp()){com_atlassian_clover.Clover.l(&quot;[CLOVER] WARNING: The Clover version used in instrumentation shall match the runtime version.&quot;);com_atlassian_clover.Clover.l(&quot;[CLOVER] WARNING: Instr=4.5.2#20240131180750,Runtime=&quot;+com_atlassian_clover.CloverVersionInfo.getReleaseNum()+&quot;#&quot;+com_atlassian_clover.CloverVersionInfo.getBuildStamp());}R=com_atlassian_clover.Clover.getNullRecorder();_R=com_atlassian_clover.Clover.getNullRecorder();_R=com_atlassian_clover.Clover.getRecorder(&quot;\u002f\u0063\u006f\u0064\u0065\u002f\u0063\u006f\u006e\u0063\u006f\u0072\u0064\u0069\u0061\u002f\u0053\u004f\u0045\u004e\u002d\u0033\u0034\u0035\u002d\u0054\u0075\u0074\u006f\u0072\u0069\u0061\u006c\u0073\u002f\u0074\u0075\u0074\u006f\u0072\u0069\u0061\u006c\u0031\u002f\u0050\u0061\u0072\u0074\u002d\u0042\u002f\u0078\u006d\u006c\u0067\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u002d\u0063\u006f\u006d\u006d\u006f\u006e\u0073\u002d\u0032\u002e\u0038\u002f\u0074\u0061\u0072\u0067\u0065\u0074\u002f\u0063\u006c\u006f\u0076\u0065\u0072\u002f\u0063\u006c\u006f\u0076\u0065\u0072\u002e\u0064\u0062&quot;,1737587872955L,8589935092L,16279,profiles,new java.lang.String[]{&quot;clover.distributed.coverage&quot;,null});}catch(java.lang.SecurityException e){java.lang.System.err.println(&quot;[CLOVER] FATAL ERROR: Clover could not be initialised because it has insufficient security privileges. Please consult the Clover documentation on the security policy file changes required. (&quot;+e.getClass()+&quot;:&quot;+e.getMessage()+&quot;)&quot;);}catch(java.lang.NoClassDefFoundError e){java.lang.System.err.println(&quot;[CLOVER] FATAL ERROR: Clover could not be initialised. Are you sure you have Clover in the runtime classpath? (&quot;+e.getClass()+&quot;:&quot;+e.getMessage()+&quot;)&quot;);}catch(java.lang.Throwable t){java.lang.System.err.println(&quot;[CLOVER] FATAL ERROR: Clover could not be initialised because of an unexpected error. (&quot;+t.getClass()+&quot;:&quot;+t.getMessage()+&quot;)&quot;);}R=_R;}}public static final com_atlassian_clover.TestNameSniffer __CLR4_5_2_TEST_NAME_SNIFFER=com_atlassian_clover.TestNameSniffer.NULL_INSTANCE;</span>

<span class="fc" id="L71">    private static final AffineTransform IDENTITY_TRANSFORM = new AffineTransform();</span>

    private static final boolean DEBUG = false;

<span class="pc" id="L75">    protected List&lt;Integer&gt; pathHashCache = new ArrayList&lt;Integer&gt;();</span>
    protected boolean startCache;
    /**
     * The G2D instance that represents the root instance
     * (used in context with create()/dispose()). Null if this instance is the root instance.
     */
    protected PSGraphics2D rootG2D;

    /** the PostScript generator being created */
    protected PSGenerator gen;

    /** Disable or enable clipping */
    protected boolean clippingDisabled;

    /** Fallback text handler */

<span class="pc" id="L91">    protected TextHandler fallbackTextHandler = new StrokingTextHandler();</span>

    /** Custom text handler */
    protected TextHandler customTextHandler;

    /**
     * the current colour for use in svg
     */
<span class="pc" id="L99">    protected Color currentColour = new Color(0, 0, 0);</span>

    /**
     * Create a new Graphics2D that generates PostScript code.
     * @param textAsShapes True if text should be rendered as graphics
     * @see org.apache.xmlgraphics.java2d.AbstractGraphics2D#AbstractGraphics2D(boolean)
     */
    public PSGraphics2D(boolean textAsShapes) {
<span class="fc" id="L107">        super(textAsShapes);__CLR4_5_2c9zc9zm68iyhxt.R.inc(15912);try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15911);</span>
<span class="fc" id="L108">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Create a new Graphics2D that generates PostScript code.
     * @param textAsShapes True if text should be rendered as graphics
     * @param gen PostScript generator to use for output
     * @see org.apache.xmlgraphics.java2d.AbstractGraphics2D#AbstractGraphics2D(boolean)
     */
    public PSGraphics2D(boolean textAsShapes, PSGenerator gen) {
<span class="fc" id="L117">        this(textAsShapes);__CLR4_5_2c9zc9zm68iyhxt.R.inc(15914);try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15913);</span>
<span class="fc" id="L118">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15915);setPSGenerator(gen);</span>
<span class="fc" id="L119">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Constructor for creating copies
     * @param g parent PostScript Graphics2D
     */
    public PSGraphics2D(PSGraphics2D g) {
<span class="nc" id="L126">        super(g);__CLR4_5_2c9zc9zm68iyhxt.R.inc(15917);try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15916);</span>

<span class="nc bnc" id="L128" title="All 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15918);this.rootG2D = ((((g.rootG2D != null )&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15919)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15920)==0&amp;false))? g.rootG2D : g);</span>
<span class="nc" id="L129">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15921);setPSGenerator(g.gen);</span>
<span class="nc" id="L130">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15922);this.clippingDisabled = g.clippingDisabled;</span>
        //this.fallbackTextHandler is not copied
        //TODO The customTextHandler should probably not be passed over just like that
        //fallbackTextHandler, for example, has to be recreated to point to the sub-Graphics2D
        //to get the text positioning right. This might require changes in the TextHandler interface
<span class="nc" id="L135">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15923);this.customTextHandler = g.customTextHandler;</span>
<span class="nc" id="L136">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15924);this.currentColour    = g.currentColour;</span>
<span class="nc" id="L137">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Sets the PostScript generator
     * @param gen the PostScript generator
     */
<span class="fc" id="L143">    public void setPSGenerator(PSGenerator gen) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15925);</span>
<span class="fc" id="L144">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15926);this.gen = gen;</span>
<span class="fc" id="L145">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /** @return the PostScript generator used by this instance. */
<span class="nc" id="L148">    public PSGenerator getPSGenerator() {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15927);</span>
<span class="nc" id="L149">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15928);return this.gen;</span>
<span class="nc" id="L150">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Sets the GraphicContext
     * @param c GraphicContext to use
     */
<span class="fc" id="L156">    public void setGraphicContext(GraphicContext c) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15929);</span>
<span class="fc" id="L157">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15930);gc = c;</span>
        //setPrivateHints();
<span class="fc" id="L159">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /** @return the fallback TextHandler implementation */
<span class="nc" id="L162">    public TextHandler getFallbackTextHandler() {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15931);</span>
<span class="nc" id="L163">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15932);return this.fallbackTextHandler;</span>
<span class="nc" id="L164">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /** @return the custom TextHandler implementation */
<span class="nc" id="L167">    public TextHandler getCustomTextHandler() {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15933);</span>
<span class="nc" id="L168">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15934);return this.customTextHandler;</span>
<span class="nc" id="L169">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Sets a custom TextHandler implementation that is responsible for painting text. The default
     * TextHandler paints all text as shapes. A custom implementation can implement text painting
     * using text painting operators.
     * @param handler the custom TextHandler implementation
     */
<span class="nc" id="L177">    public void setCustomTextHandler(TextHandler handler) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15935);</span>
<span class="nc" id="L178">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15936);this.customTextHandler = handler;</span>
<span class="nc" id="L179">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /* TODO Add me back at the right place!!!
    private void setPrivateHints() {
        setRenderingHint(RenderingHintsKeyExt.KEY_AVOID_TILE_PAINTING,
                RenderingHintsKeyExt.VALUE_AVOID_TILE_PAINTING_ON);
    }*/

    /**
     * Disable clipping on each draw command.
     *
     * @param b set to true to disable all clipping.
     */
<span class="nc" id="L192">    public void disableClipping(boolean b) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15937);</span>
<span class="nc" id="L193">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15938);this.clippingDisabled = b;</span>
<span class="nc" id="L194">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Creates a new &lt;code&gt;Graphics&lt;/code&gt; object that is
     * a copy of this &lt;code&gt;Graphics&lt;/code&gt; object.
     * @return     a new graphics context that is a copy of
     * this graphics context.
     */
<span class="nc" id="L202">    public Graphics create() {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15939);</span>
<span class="nc" id="L203">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15940);preparePainting();</span>
<span class="nc" id="L204">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15941);return new PSGraphics2D(this);</span>
<span class="nc" id="L205">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Central handler for IOExceptions for this class.
     * @param ioe IOException to handle
     */
<span class="nc" id="L211">    public void handleIOException(IOException ioe) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15942);</span>
        //TODO Surely, there's a better way to do this.
<span class="nc" id="L213">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15943);ioe.printStackTrace();</span>
<span class="nc" id="L214">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * This method is used by AbstractPSDocumentGraphics2D to prepare a new page if
     * necessary.
     */
<span class="fc" id="L220">    public void preparePainting() {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15944);</span>
        //nop, used by AbstractPSDocumentGraphics2D
<span class="pc bpc" id="L222" title="7 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15945);if ((((rootG2D != null)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15946)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15947)==0&amp;false))) {{</span>
<span class="nc" id="L223">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15948);rootG2D.preparePainting();</span>
        }
<span class="fc" id="L225">    }}finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Draws as much of the specified image as is currently available.
     * The image is drawn with its top-left corner at
     * (&lt;i&gt;x&lt;/i&gt;,&amp;nbsp;&lt;i&gt;y&lt;/i&gt;) in this graphics context's coordinate
     * space. Transparent pixels in the image do not affect whatever
     * pixels are already there.
     * &lt;p&gt;
     * This method returns immediately in all cases, even if the
     * complete image has not yet been loaded, and it has not been dithered
     * and converted for the current output device.
     * &lt;p&gt;
     * If the image has not yet been completely loaded, then
     * &lt;code&gt;drawImage&lt;/code&gt; returns &lt;code&gt;false&lt;/code&gt;. As more of
     * the image becomes available, the process that draws the image notifies
     * the specified image observer.
     * @param    img the specified image to be drawn.
     * @param    x   the &lt;i&gt;x&lt;/i&gt; coordinate.
     * @param    y   the &lt;i&gt;y&lt;/i&gt; coordinate.
     * @param    observer    object to be notified as more of
     * the image is converted.
     * @return True if the image has been fully drawn/loaded
     * @see      java.awt.Image
     * @see      java.awt.image.ImageObserver
     * @see      java.awt.image.ImageObserver#imageUpdate(java.awt.Image, int, int, int, int, int)
     */
<span class="fc" id="L252">    public boolean drawImage(Image img, int x, int y, ImageObserver observer) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15949);</span>
<span class="fc" id="L253">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15950);return drawImage(img, x, y, observer, null);</span>
<span class="fc" id="L254">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

<span class="fc" id="L256">    public boolean drawImage(Image img, int x, int y, ImageObserver observer, Color mask) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15951);</span>
<span class="fc" id="L257">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15952);return drawImage(img, x, y, observer, mask, null);</span>
<span class="fc" id="L258">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

<span class="fc" id="L260">    public boolean drawImage(Image img, int x, int y, ImageObserver observer, Color mask, RenderedImage imageMask) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15953);</span>
<span class="fc" id="L261">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15954);preparePainting();</span>
<span class="pc bpc" id="L262" title="2 of 4 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15955);if ((((DEBUG)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15956)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15957)==0&amp;false))) {{</span>
<span class="nc" id="L263">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15958);System.out.println(&quot;drawImage: &quot; + x + &quot;, &quot; + y + &quot; &quot; + img.getClass().getName());</span>
        }

<span class="fc" id="L266">        }__CLR4_5_2c9zc9zm68iyhxt.R.inc(15959);final int width = img.getWidth(observer);</span>
<span class="fc" id="L267">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15960);final int height = img.getHeight(observer);</span>
<span class="pc bpc" id="L268" title="8 of 12 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15961);if ((((width == -1 || height == -1)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15962)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15963)==0&amp;false))) {{</span>
<span class="nc" id="L269">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15964);return false;</span>
        }

<span class="fc" id="L272">        }__CLR4_5_2c9zc9zm68iyhxt.R.inc(15965);Dimension size = new Dimension(width, height);</span>
<span class="fc" id="L273">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15966);BufferedImage buf = buildBufferedImage(size);</span>

<span class="fc" id="L275">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15967);java.awt.Graphics2D g = buf.createGraphics();</span>
<span class="fc" id="L276">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15968);g.setComposite(AlphaComposite.SrcOver);</span>
<span class="fc" id="L277">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15969);g.setBackground(new Color(1, 1, 1, 0));</span>
<span class="fc" id="L278">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15970);g.fillRect(0, 0, width, height);</span>
<span class="fc" id="L279">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15971);g.clip(new Rectangle(0, 0, buf.getWidth(), buf.getHeight()));</span>

<span class="pc bpc" id="L281" title="7 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15972);if ((((!g.drawImage(img, 0, 0, observer))&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15973)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15974)==0&amp;false))) {{</span>
<span class="nc" id="L282">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15975);return false;</span>
        }
<span class="fc" id="L284">        }__CLR4_5_2c9zc9zm68iyhxt.R.inc(15976);g.dispose();</span>

<span class="fc" id="L286">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15977);try {</span>
<span class="fc" id="L287">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15978);AffineTransform at = getTransform();</span>
<span class="fc" id="L288">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15979);gen.saveGraphicsState();</span>
<span class="fc" id="L289">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15980);gen.concatMatrix(at);</span>
<span class="fc" id="L290">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15981);Shape imclip = getClip();</span>
<span class="fc" id="L291">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15982);writeClip(imclip);</span>
<span class="pc bpc" id="L292" title="4 of 10 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15983);if ((((imageMask == null)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15984)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(15985)==0&amp;false))) {{</span>
<span class="fc" id="L293">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(15986);PSImageUtils.renderBitmapImage(buf, x, y, width, height, gen, mask, false);</span>
            } }else {{
<span class="fc" id="L295">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(15987);PSImageUtils.renderBitmapImage(imageMask, x, y, width, height, gen, mask, true);</span>
            }
<span class="fc" id="L297">            }__CLR4_5_2c9zc9zm68iyhxt.R.inc(15988);gen.restoreGraphicsState();</span>
<span class="nc" id="L298">        } catch (IOException ioe) {</span>
<span class="nc" id="L299">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(15989);handleIOException(ioe);</span>
<span class="fc" id="L300">        }</span>

<span class="fc" id="L302">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15990);return true;</span>
<span class="fc" id="L303">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Creates a buffered image.
     * @param size dimensions of the image to be created
     * @return the buffered image
     */
<span class="fc" id="L310">    public BufferedImage buildBufferedImage(Dimension size) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15991);</span>
<span class="fc" id="L311">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15992);return new BufferedImage(size.width, size.height,</span>
                                 BufferedImage.TYPE_INT_ARGB);
<span class="fc" id="L313">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Draws as much of the specified image as has already been scaled
     * to fit inside the specified rectangle.
     * &lt;p&gt;
     * The image is drawn inside the specified rectangle of this
     * graphics context's coordinate space, and is scaled if
     * necessary. Transparent pixels do not affect whatever pixels
     * are already there.
     * &lt;p&gt;
     * This method returns immediately in all cases, even if the
     * entire image has not yet been scaled, dithered, and converted
     * for the current output device.
     * If the current output representation is not yet complete, then
     * &lt;code&gt;drawImage&lt;/code&gt; returns &lt;code&gt;false&lt;/code&gt;. As more of
     * the image becomes available, the process that draws the image notifies
     * the image observer by calling its &lt;code&gt;imageUpdate&lt;/code&gt; method.
     * &lt;p&gt;
     * A scaled version of an image will not necessarily be
     * available immediately just because an unscaled version of the
     * image has been constructed for this output device.  Each size of
     * the image may be cached separately and generated from the original
     * data in a separate image production sequence.
     * @param    img    the specified image to be drawn.
     * @param    x      the &lt;i&gt;x&lt;/i&gt; coordinate.
     * @param    y      the &lt;i&gt;y&lt;/i&gt; coordinate.
     * @param    width  the width of the rectangle.
     * @param    height the height of the rectangle.
     * @param    observer    object to be notified as more of
     * the image is converted.
     * @return   True if the image has been fully loaded/drawn
     * @see      java.awt.Image
     * @see      java.awt.image.ImageObserver
     * @see      java.awt.image.ImageObserver#imageUpdate(java.awt.Image, int, int, int, int, int)
     */
    public boolean drawImage(Image img, int x, int y, int width, int height,
<span class="nc" id="L350">                             ImageObserver observer) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15993);</span>
<span class="nc" id="L351">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15994);preparePainting();</span>
<span class="nc" id="L352">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15995);System.err.println(&quot;NYI: drawImage&quot;);</span>
<span class="nc" id="L353">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15996);return true;</span>
<span class="nc" id="L354">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Disposes of this graphics context and releases
     * any system resources that it is using.
     * A &lt;code&gt;Graphics&lt;/code&gt; object cannot be used after
     * &lt;code&gt;dispose&lt;/code&gt;has been called.
     * &lt;p&gt;
     * When a Java program runs, a large number of &lt;code&gt;Graphics&lt;/code&gt;
     * objects can be created within a short time frame.
     * Although the finalization process of the garbage collector
     * also disposes of the same system resources, it is preferable
     * to manually free the associated resources by calling this
     * method rather than to rely on a finalization process which
     * may not run to completion for a long period of time.
     * &lt;p&gt;
     * Graphics objects which are provided as arguments to the
     * &lt;code&gt;paint&lt;/code&gt; and &lt;code&gt;update&lt;/code&gt; methods
     * of components are automatically released by the system when
     * those methods return. For efficiency, programmers should
     * call &lt;code&gt;dispose&lt;/code&gt; when finished using
     * a &lt;code&gt;Graphics&lt;/code&gt; object only if it was created
     * directly from a component or another &lt;code&gt;Graphics&lt;/code&gt; object.
     * @see         java.awt.Graphics#finalize
     * @see         java.awt.Component#paint
     * @see         java.awt.Component#update
     * @see         java.awt.Component#getGraphics
     * @see         java.awt.Graphics#create
     */
<span class="fc" id="L383">    public void dispose() {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(15997);</span>
<span class="fc" id="L384">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15998);this.gen = null;</span>
<span class="fc" id="L385">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(15999);this.fallbackTextHandler = null;</span>
<span class="fc" id="L386">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16000);this.customTextHandler = null;</span>
<span class="fc" id="L387">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16001);this.currentColour = null;</span>
<span class="fc" id="L388">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Processes a Shape generating the necessary painting operations.
     * @param s Shape to process
     * @return the winding rule of the path defining the shape
     * @throws IOException In case of an I/O problem.
     */
<span class="fc" id="L396">    public int processShape(Shape s, boolean cached) throws IOException {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16002);</span>
<span class="pc bpc" id="L397" title="4 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16003);if ((((s instanceof Rectangle2D)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16004)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16005)==0&amp;false))) {{</span>
            // Special optimization in case of Rectangle Shape
<span class="fc" id="L399">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16006);Rectangle2D r = (Rectangle2D) s;</span>
<span class="fc" id="L400">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16007);gen.defineRect(r.getX(), r.getY(), r.getWidth(), r.getHeight());</span>
<span class="fc" id="L401">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16008);return PathIterator.WIND_NON_ZERO;</span>
        } }else {{
<span class="fc" id="L403">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16009);PathIterator iter = s.getPathIterator(IDENTITY_TRANSFORM);</span>
<span class="pc bpc" id="L404" title="4 of 10 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16010);if ((((cached)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16011)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16012)==0&amp;false))) {{</span>
<span class="fc" id="L405">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16013);processPathIteratorCached(s);</span>
            } }else {{
<span class="fc" id="L407">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16014);processPathIterator(iter);</span>
            }
<span class="fc" id="L409">            }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16015);return iter.getWindingRule();</span>
        }
<span class="fc" id="L411">    }}finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

<span class="fc" id="L413">    protected String processPathIteratorToString(PathIterator iter) throws IOException {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16016);</span>
<span class="fc" id="L414">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16017);StringBuilder cmd = new StringBuilder();</span>
<span class="fc" id="L415">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16018);double[] vals = new double[6];</span>
<span class="pc bpc" id="L416" title="4 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16019);while ((((!iter.isDone())&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16020)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16021)==0&amp;false))) {{</span>
<span class="fc" id="L417">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16022);int type = iter.currentSegment(vals);</span>
<span class="pc bpc" id="L418" title="1 of 6 branches missed.">            boolean __CLB4_5_2_bool0=false;__CLR4_5_2c9zc9zm68iyhxt.R.inc(16023);switch (type) {</span>
<span class="pc bpc" id="L419" title="1 of 2 branches missed.">            case PathIterator.SEG_CUBICTO:if (!__CLB4_5_2_bool0) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16024);__CLB4_5_2_bool0=true;}</span>
<span class="fc" id="L420">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16025);cmd.append(gen.formatDouble(vals[0])).append(&quot; &quot;).append(gen.formatDouble(vals[1])).append(&quot; &quot;)</span>
<span class="fc" id="L421">                        .append(gen.formatDouble(vals[2])).append(&quot; &quot;).append(gen.formatDouble(vals[3])).append(&quot; &quot;)</span>
<span class="fc" id="L422">                        .append(gen.formatDouble(vals[4])).append(&quot; &quot;).append(gen.formatDouble(vals[5])).append(&quot; &quot;)</span>
<span class="fc" id="L423">                        .append(gen.mapCommand(&quot;curveto&quot;)).append(&quot;\n&quot;);</span>
<span class="fc" id="L424">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16026);break;</span>
<span class="pc bpc" id="L425" title="1 of 2 branches missed.">            case PathIterator.SEG_LINETO:if (!__CLB4_5_2_bool0) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16027);__CLB4_5_2_bool0=true;}</span>
<span class="fc" id="L426">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16028);cmd.append(gen.formatDouble(vals[0])).append(&quot; &quot;).append(gen.formatDouble(vals[1])).append(&quot; &quot;)</span>
<span class="fc" id="L427">                        .append(gen.mapCommand(&quot;lineto&quot;)).append(&quot;\n&quot;);</span>
<span class="fc" id="L428">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16029);break;</span>
<span class="pc bpc" id="L429" title="1 of 2 branches missed.">            case PathIterator.SEG_MOVETO:if (!__CLB4_5_2_bool0) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16030);__CLB4_5_2_bool0=true;}</span>
<span class="fc" id="L430">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16031);cmd.append(gen.formatDouble(vals[0])).append(&quot; &quot;).append(gen.formatDouble(vals[1])).append(&quot; &quot;)</span>
<span class="fc" id="L431">                        .append(gen.mapCommand(&quot;moveto&quot;)).append(&quot;\n&quot;);</span>
<span class="fc" id="L432">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16032);break;</span>
<span class="pc bpc" id="L433" title="1 of 2 branches missed.">            case PathIterator.SEG_QUADTO:if (!__CLB4_5_2_bool0) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16033);__CLB4_5_2_bool0=true;}</span>
<span class="fc" id="L434">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16034);cmd.append(gen.formatDouble(vals[0])).append(&quot; &quot;).append(gen.formatDouble(vals[1])).append(&quot; &quot;)</span>
<span class="fc" id="L435">                        .append(gen.formatDouble(vals[2])).append(&quot; &quot;).append(gen.formatDouble(vals[3])).append(&quot; QT&quot;)</span>
<span class="fc" id="L436">                        .append(&quot;\n&quot;);</span>
<span class="fc" id="L437">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16035);break;</span>
<span class="pc bpc" id="L438" title="1 of 2 branches missed.">            case PathIterator.SEG_CLOSE:if (!__CLB4_5_2_bool0) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16036);__CLB4_5_2_bool0=true;}</span>
<span class="fc" id="L439">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16037);cmd.append(gen.mapCommand(&quot;closepath&quot;)).append(&quot;\n&quot;);</span>
<span class="fc" id="L440">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16038);break;</span>
<span class="nc bnc" id="L441" title="All 2 branches missed.">            default:if (!__CLB4_5_2_bool0) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16039);__CLB4_5_2_bool0=true;}</span>
<span class="nc" id="L442">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16040);break;</span>
            }
<span class="fc" id="L444">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16041);iter.next();</span>
<span class="fc" id="L445">        }</span>
<span class="fc" id="L446">        }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16042);return cmd.toString().trim();</span>
<span class="fc" id="L447">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

<span class="fc" id="L449">    protected void processPathIteratorCached(Shape s) throws IOException {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16043);</span>
<span class="fc" id="L450">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16044);String cmd = processPathIteratorToString(s.getPathIterator(IDENTITY_TRANSFORM));</span>
<span class="fc" id="L451">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16045);int hash = cmd.hashCode();</span>
<span class="pc bpc" id="L452" title="4 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16046);if ((((!startCache)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16047)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16048)==0&amp;false))) {{</span>
<span class="pc bpc" id="L453" title="4 of 10 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16049);if ((((pathHashCache.contains(hash))&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16050)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16051)==0&amp;false))) {{</span>
<span class="fc" id="L454">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16052);startCache = true;</span>
<span class="fc" id="L455">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16053);pathHashCache.clear();</span>
            } }else {{
<span class="fc" id="L457">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16054);gen.writeln(cmd);</span>
<span class="fc" id="L458">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16055);pathHashCache.add(hash);</span>
            }
        }}
<span class="pc bpc" id="L461" title="4 of 10 branches missed.">        }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16056);if ((((startCache)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16057)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16058)==0&amp;false))) {{</span>
<span class="pc bpc" id="L462" title="7 of 10 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16059);if ((((!pathHashCache.contains(hash))&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16060)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16061)==0&amp;false))) {{</span>
<span class="fc" id="L463">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16062);gen.writeln(&quot;/f&quot; + hash + &quot;{&quot; + cmd + &quot;}def&quot;);</span>
<span class="fc" id="L464">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16063);pathHashCache.add(hash);</span>
            }
<span class="fc" id="L466">            }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16064);gen.writeln(&quot;f&quot; + hash);</span>
        }
<span class="fc" id="L468">    }}finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Processes a path iterator generating the nexessary painting operations.
     * @param iter PathIterator to process
     * @throws IOException In case of an I/O problem.
     */
<span class="fc" id="L475">    public void processPathIterator(PathIterator iter) throws IOException {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16065);</span>
<span class="fc" id="L476">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16066);gen.writeln(processPathIteratorToString(iter));</span>
<span class="fc" id="L477">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Strokes the outline of a &lt;code&gt;Shape&lt;/code&gt; using the settings of the
     * current &lt;code&gt;Graphics2D&lt;/code&gt; context.  The rendering attributes
     * applied include the &lt;code&gt;Clip&lt;/code&gt;, &lt;code&gt;Transform&lt;/code&gt;,
     * &lt;code&gt;Paint&lt;/code&gt;, &lt;code&gt;Composite&lt;/code&gt; and
     * &lt;code&gt;Stroke&lt;/code&gt; attributes.
     * @param s the &lt;code&gt;Shape&lt;/code&gt; to be rendered
     * @see #setStroke
     * @see #setPaint
     * @see java.awt.Graphics#setColor
     * @see #transform
     * @see #setTransform
     * @see #clip
     * @see #setClip
     * @see #setComposite
     */
<span class="fc" id="L495">    public void draw(Shape s) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16067);</span>
<span class="fc" id="L496">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16068);preparePainting();</span>
<span class="fc" id="L497">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16069);try {</span>
<span class="fc" id="L498">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16070);gen.saveGraphicsState();</span>

<span class="fc" id="L500">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16071);AffineTransform trans = getTransform();</span>
<span class="pc bpc" id="L501" title="1 of 2 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16072);boolean newTransform = !trans.isIdentity();</span>

<span class="pc bpc" id="L503" title="7 of 10 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16073);if ((((newTransform)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16074)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16075)==0&amp;false))) {{</span>
<span class="fc" id="L504">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16076);gen.concatMatrix(trans);</span>
            }
<span class="fc" id="L506">            }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16077);Shape imclip = getClip();</span>
<span class="pc bpc" id="L507" title="7 of 10 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16078);if ((((shouldBeClipped(imclip, s))&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16079)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16080)==0&amp;false))) {{</span>
<span class="nc" id="L508">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16081);writeClip(imclip);</span>
            }
<span class="fc" id="L510">            }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16082);establishColor(getColor());</span>

<span class="fc" id="L512">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16083);applyPaint(getPaint(), false);</span>
<span class="fc" id="L513">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16084);applyStroke(getStroke());</span>

<span class="fc" id="L515">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16085);gen.writeln(gen.mapCommand(&quot;newpath&quot;));</span>
<span class="fc" id="L516">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16086);processShape(s, false);</span>
<span class="fc" id="L517">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16087);doDrawing(false, true, false);</span>
<span class="fc" id="L518">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16088);gen.restoreGraphicsState();</span>
<span class="nc" id="L519">        } catch (IOException ioe) {</span>
<span class="nc" id="L520">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16089);handleIOException(ioe);</span>
<span class="fc" id="L521">        }</span>
<span class="fc" id="L522">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Determines if a shape interacts with a clipping region.
     * @param clip Shape defining the clipping region
     * @param s Shape to be drawn
     * @return true if code for a clipping region needs to be generated.
     */
<span class="fc" id="L530">    public boolean shouldBeClipped(Shape clip, Shape s) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16090);</span>
<span class="pc bpc" id="L531" title="5 of 12 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16091);if ((((clip == null || s == null)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16092)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16093)==0&amp;false))) {{</span>
<span class="fc" id="L532">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16094);return false;</span>
        }
<span class="pc bpc" id="L534" title="4 of 10 branches missed.">        }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16095);if ((((s instanceof Line2D)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16096)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16097)==0&amp;false))) {{</span>
            //Line shapes don't work with intersections so always clip
<span class="fc" id="L536">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16098);return true;</span>
        }
<span class="fc" id="L538">        }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16099);Area as = new Area(s);</span>
<span class="fc" id="L539">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16100);Area imclip = new Area(clip);</span>
<span class="fc" id="L540">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16101);imclip.intersect(as);</span>
<span class="pc bpc" id="L541" title="1 of 2 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16102);return !imclip.equals(as);</span>
<span class="fc" id="L542">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Establishes a clipping region
     * @param s Shape defining the clipping region
     */
<span class="fc" id="L548">    public void writeClip(Shape s) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16103);</span>
<span class="pc bpc" id="L549" title="4 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16104);if ((((s == null)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16105)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16106)==0&amp;false))) {{</span>
<span class="fc" id="L550">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16107);return;</span>
        }
<span class="pc bpc" id="L552" title="7 of 10 branches missed.">        }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16108);if ((((!this.clippingDisabled)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16109)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16110)==0&amp;false))) {{</span>
<span class="fc" id="L553">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16111);preparePainting();</span>
<span class="fc" id="L554">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16112);try {</span>
<span class="fc" id="L555">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16113);gen.writeln(gen.mapCommand(&quot;newpath&quot;));</span>
<span class="fc" id="L556">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16114);processShape(s, false);</span>
                // clip area
<span class="fc" id="L558">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16115);gen.writeln(gen.mapCommand(&quot;clip&quot;));</span>
<span class="nc" id="L559">            } catch (IOException ioe) {</span>
<span class="nc" id="L560">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16116);handleIOException(ioe);</span>
<span class="fc" id="L561">            }</span>
        }
<span class="fc" id="L563">    }}finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Applies a new Paint object.
     * @param paint Paint object to use
     * @param fill True if to be applied for filling
     */
<span class="fc" id="L570">    protected void applyPaint(Paint paint, boolean fill) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16117);</span>
<span class="fc" id="L571">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16118);preparePainting();</span>
<span class="pc bpc" id="L572" title="7 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16119);if ((((paint instanceof GradientPaint)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16120)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16121)==0&amp;false))) {{</span>
<span class="nc" id="L573">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16122);System.err.println(&quot;NYI: Gradient paint&quot;);</span>
<span class="pc bpc" id="L574" title="4 of 10 branches missed.">        } }else {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16123);if ((((paint instanceof TexturePaint)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16124)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16125)==0&amp;false))) {{</span>
<span class="pc bpc" id="L575" title="7 of 10 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16126);if ((((fill)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16127)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16128)==0&amp;false))) {{</span>
<span class="fc" id="L576">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16129);try {</span>
                    // create pattern with texture and use it for filling of a graphics object
<span class="fc" id="L578">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16130);PSTilingPattern psTilingPattern = new PSTilingPattern(&quot;Pattern1&quot;,</span>
                            (TexturePaint)paint, 0, 0, 3, null);
<span class="fc" id="L580">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16131);gen.write(psTilingPattern.toString(gen.isAcrobatDownsample()));</span>
<span class="fc" id="L581">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16132);gen.writeln(&quot;/Pattern &quot; + gen.mapCommand(&quot;setcolorspace&quot;));</span>
<span class="fc" id="L582">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16133);gen.writeln(psTilingPattern.getName() + &quot; &quot; + gen.mapCommand(&quot;setcolor&quot;));</span>
<span class="nc" id="L583">                } catch (IOException ioe) {</span>
<span class="nc" id="L584">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16134);handleIOException(ioe);</span>
<span class="fc" id="L585">                }</span>
            }
        }}
<span class="fc" id="L588">    }}}finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Applies a new Stroke object.
     * @param stroke Stroke object to use
     */
<span class="fc" id="L594">    protected void applyStroke(Stroke stroke) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16135);</span>
<span class="fc" id="L595">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16136);preparePainting();</span>
<span class="fc" id="L596">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16137);try {</span>
<span class="fc" id="L597">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16138);applyStroke(stroke, gen);</span>
<span class="nc" id="L598">        } catch (IOException ioe) {</span>
<span class="nc" id="L599">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16139);handleIOException(ioe);</span>
<span class="fc" id="L600">        }</span>
<span class="fc" id="L601">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Applies a new Stroke object.
     * @param stroke the Stroke instance
     * @param gen the PS generator
     * @throws IOException if an I/O error occurs
     */
    public static void applyStroke(Stroke stroke, final PSGenerator gen)
<span class="fc" id="L610">            throws IOException {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16140);</span>
<span class="pc bpc" id="L611" title="7 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16141);if ((((stroke instanceof BasicStroke)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16142)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16143)==0&amp;false))) {{</span>
<span class="fc" id="L612">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16144);BasicStroke basicStroke = (BasicStroke)stroke;</span>

<span class="fc" id="L614">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16145);float[] da = basicStroke.getDashArray();</span>
<span class="pc bpc" id="L615" title="7 of 10 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16146);if ((((da != null)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16147)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16148)==0&amp;false))) {{</span>
<span class="nc" id="L616">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16149);StringBuffer sb = new StringBuffer(&quot;[&quot;);</span>
<span class="nc bnc" id="L617" title="All 10 branches missed.">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16150);for (int count = 0; (((count &lt; da.length)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16151)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16152)==0&amp;false)); count++) {{</span>
<span class="nc" id="L618">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16153);sb.append(gen.formatDouble(da[count]));</span>
<span class="nc bnc" id="L619" title="All 10 branches missed.">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16154);if ((((count &lt; da.length - 1)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16155)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16156)==0&amp;false))) {{</span>
<span class="nc" id="L620">                        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16157);sb.append(&quot; &quot;);</span>
                    }
                }}
<span class="nc" id="L623">                }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16158);sb.append(&quot;] &quot;);</span>
<span class="nc" id="L624">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16159);float offset = basicStroke.getDashPhase();</span>
<span class="nc" id="L625">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16160);sb.append(gen.formatDouble(offset));</span>
<span class="nc" id="L626">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16161);gen.useDash(sb.toString());</span>
<span class="nc" id="L627">            } }else {{</span>
<span class="fc" id="L628">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16162);gen.useDash(null);</span>
            }
<span class="fc" id="L630">            }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16163);int ec = basicStroke.getEndCap();</span>
<span class="pc bpc" id="L631" title="3 of 4 branches missed.">            boolean __CLB4_5_2_bool1=false;__CLR4_5_2c9zc9zm68iyhxt.R.inc(16164);switch (ec) {</span>
<span class="nc bnc" id="L632" title="All 2 branches missed.">            case BasicStroke.CAP_BUTT:if (!__CLB4_5_2_bool1) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16165);__CLB4_5_2_bool1=true;}</span>
<span class="nc" id="L633">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16166);gen.useLineCap(0);</span>
<span class="nc" id="L634">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16167);break;</span>
<span class="nc bnc" id="L635" title="All 2 branches missed.">            case BasicStroke.CAP_ROUND:if (!__CLB4_5_2_bool1) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16168);__CLB4_5_2_bool1=true;}</span>
<span class="nc" id="L636">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16169);gen.useLineCap(1);</span>
<span class="nc" id="L637">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16170);break;</span>
<span class="pc bpc" id="L638" title="1 of 2 branches missed.">            case BasicStroke.CAP_SQUARE:if (!__CLB4_5_2_bool1) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16171);__CLB4_5_2_bool1=true;}</span>
<span class="fc" id="L639">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16172);gen.useLineCap(2);</span>
<span class="fc" id="L640">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16173);break;</span>
<span class="nc bnc" id="L641" title="All 2 branches missed.">            default:if (!__CLB4_5_2_bool1) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16174);__CLB4_5_2_bool1=true;} __CLR4_5_2c9zc9zm68iyhxt.R.inc(16175);System.err.println(&quot;Unsupported line cap: &quot; + ec);</span>
            }

<span class="fc" id="L644">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16176);int lj = basicStroke.getLineJoin();</span>
<span class="pc bpc" id="L645" title="3 of 4 branches missed.">            boolean __CLB4_5_2_bool2=false;__CLR4_5_2c9zc9zm68iyhxt.R.inc(16177);switch (lj) {</span>
<span class="pc bpc" id="L646" title="1 of 2 branches missed.">            case BasicStroke.JOIN_MITER:if (!__CLB4_5_2_bool2) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16178);__CLB4_5_2_bool2=true;}</span>
<span class="fc" id="L647">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16179);gen.useLineJoin(0);</span>
<span class="fc" id="L648">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16180);float ml = basicStroke.getMiterLimit();</span>
<span class="pc bpc" id="L649" title="7 of 10 branches missed.">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16181);gen.useMiterLimit((((ml &gt;= -1 )&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16182)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16183)==0&amp;false))? ml : 1);</span>
<span class="fc" id="L650">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16184);break;</span>
<span class="nc bnc" id="L651" title="All 2 branches missed.">            case BasicStroke.JOIN_ROUND:if (!__CLB4_5_2_bool2) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16185);__CLB4_5_2_bool2=true;}</span>
<span class="nc" id="L652">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16186);gen.useLineJoin(1);</span>
<span class="nc" id="L653">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16187);break;</span>
<span class="nc bnc" id="L654" title="All 2 branches missed.">            case BasicStroke.JOIN_BEVEL:if (!__CLB4_5_2_bool2) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16188);__CLB4_5_2_bool2=true;}</span>
<span class="nc" id="L655">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16189);gen.useLineJoin(2);</span>
<span class="nc" id="L656">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16190);break;</span>
<span class="nc bnc" id="L657" title="All 2 branches missed.">            default:if (!__CLB4_5_2_bool2) {__CLR4_5_2c9zc9zm68iyhxt.R.inc(16191);__CLB4_5_2_bool2=true;} __CLR4_5_2c9zc9zm68iyhxt.R.inc(16192);System.err.println(&quot;Unsupported line join: &quot; + lj);</span>
            }
<span class="fc" id="L659">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16193);float lw = basicStroke.getLineWidth();</span>
<span class="fc" id="L660">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16194);gen.useLineWidth(lw);</span>
<span class="fc" id="L661">        } }else {{</span>
<span class="nc" id="L662">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16195);System.err.println(&quot;Stroke not supported: &quot; + stroke.toString());</span>
        }
<span class="fc" id="L664">    }}finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Renders a {@link RenderedImage},
     * applying a transform from image
     * space into user space before drawing.
     * The transformation from user space into device space is done with
     * the current &lt;code&gt;Transform&lt;/code&gt; in the &lt;code&gt;Graphics2D&lt;/code&gt;.
     * The specified transformation is applied to the image before the
     * transform attribute in the &lt;code&gt;Graphics2D&lt;/code&gt; context is applied.
     * The rendering attributes applied include the &lt;code&gt;Clip&lt;/code&gt;,
     * &lt;code&gt;Transform&lt;/code&gt;, and &lt;code&gt;Composite&lt;/code&gt; attributes. Note
     * that no rendering is done if the specified transform is
     * noninvertible.
     * @param img the image to be rendered
     * @param xform the transformation from image space into user space
     * @see #transform
     * @see #setTransform
     * @see #setComposite
     * @see #clip
     * @see #setClip
     */
<span class="fc" id="L686">    public void drawRenderedImage(RenderedImage img, AffineTransform xform) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16196);</span>
<span class="fc" id="L687">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16197);preparePainting();</span>
<span class="fc" id="L688">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16198);try {</span>
<span class="fc" id="L689">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16199);AffineTransform at = getTransform();</span>
<span class="fc" id="L690">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16200);gen.saveGraphicsState();</span>
<span class="fc" id="L691">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16201);gen.concatMatrix(at);</span>
<span class="fc" id="L692">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16202);gen.concatMatrix(xform);</span>
<span class="fc" id="L693">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16203);Shape imclip = getClip();</span>
<span class="fc" id="L694">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16204);writeClip(imclip);</span>
<span class="fc" id="L695">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16205);PSImageUtils.renderBitmapImage(img,</span>
<span class="fc" id="L696">                0, 0, img.getWidth(), img.getHeight(), gen, null, false);</span>
<span class="fc" id="L697">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16206);gen.restoreGraphicsState();</span>
<span class="nc" id="L698">        } catch (IOException ioe) {</span>
<span class="nc" id="L699">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16207);handleIOException(ioe);</span>
<span class="fc" id="L700">        }</span>
<span class="fc" id="L701">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Renders a
     * {@link RenderableImage},
     * applying a transform from image space into user space before drawing.
     * The transformation from user space into device space is done with
     * the current &lt;code&gt;Transform&lt;/code&gt; in the &lt;code&gt;Graphics2D&lt;/code&gt;.
     * The specified transformation is applied to the image before the
     * transform attribute in the &lt;code&gt;Graphics2D&lt;/code&gt; context is applied.
     * The rendering attributes applied include the &lt;code&gt;Clip&lt;/code&gt;,
     * &lt;code&gt;Transform&lt;/code&gt;, and &lt;code&gt;Composite&lt;/code&gt; attributes. Note
     * that no rendering is done if the specified transform is
     * noninvertible.
     * &lt;p&gt;
     * Rendering hints set on the &lt;code&gt;Graphics2D&lt;/code&gt; object might
     * be used in rendering the &lt;code&gt;RenderableImage&lt;/code&gt;.
     * If explicit control is required over specific hints recognized by a
     * specific &lt;code&gt;RenderableImage&lt;/code&gt;, or if knowledge of which hints
     * are used is required, then a &lt;code&gt;RenderedImage&lt;/code&gt; should be
     * obtained directly from the &lt;code&gt;RenderableImage&lt;/code&gt;
     * and rendered using
     * {@link #drawRenderedImage(RenderedImage, AffineTransform) drawRenderedImage}.
     * @param img the image to be rendered
     * @param xform the transformation from image space into user space
     * @see #transform
     * @see #setTransform
     * @see #setComposite
     * @see #clip
     * @see #setClip
     * @see #drawRenderedImage
     */
    public void drawRenderableImage(RenderableImage img,
<span class="nc" id="L734">                                    AffineTransform xform) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16208);</span>
<span class="nc" id="L735">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16209);preparePainting();</span>
<span class="nc" id="L736">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16210);System.err.println(&quot;NYI: drawRenderableImage&quot;);</span>
<span class="nc" id="L737">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Establishes the given color in the PostScript interpreter.
     * @param c the color to set
     * @throws IOException In case of an I/O problem
     */
<span class="fc" id="L744">    public void establishColor(Color c) throws IOException {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16211);</span>
<span class="fc" id="L745">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16212);gen.useColor(c);</span>
<span class="fc" id="L746">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Renders the text specified by the specified &lt;code&gt;String&lt;/code&gt;,
     * using the current &lt;code&gt;Font&lt;/code&gt; and &lt;code&gt;Paint&lt;/code&gt; attributes
     * in the &lt;code&gt;Graphics2D&lt;/code&gt; context.
     * The baseline of the first character is at position
     * (&lt;i&gt;x&lt;/i&gt;,&amp;nbsp;&lt;i&gt;y&lt;/i&gt;) in the User Space.
     * The rendering attributes applied include the &lt;code&gt;Clip&lt;/code&gt;,
     * &lt;code&gt;Transform&lt;/code&gt;, &lt;code&gt;Paint&lt;/code&gt;, &lt;code&gt;Font&lt;/code&gt; and
     * &lt;code&gt;Composite&lt;/code&gt; attributes. For characters in script systems
     * such as Hebrew and Arabic, the glyphs can be rendered from right to
     * left, in which case the coordinate supplied is the location of the
     * leftmost character on the baseline.
     * @param s the &lt;code&gt;String&lt;/code&gt; to be rendered
     * @param x the x-coordinate where the &lt;code&gt;String&lt;/code&gt;
     * should be rendered
     * @param y the y-coordinate where the &lt;code&gt;String&lt;/code&gt;
     * should be rendered
     * @see #setPaint
     * @see java.awt.Graphics#setColor
     * @see java.awt.Graphics#setFont
     * @see #setTransform
     * @see #setComposite
     * @see #setClip
     */
<span class="fc" id="L772">    public void drawString(String s, float x, float y) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16213);</span>
<span class="fc" id="L773">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16214);try {</span>
<span class="pc bpc" id="L774" title="9 of 12 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16215);if ((((customTextHandler != null &amp;&amp; !textAsShapes)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16216)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16217)==0&amp;false))) {{</span>
<span class="nc" id="L775">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16218);customTextHandler.drawString(this, s, x, y);</span>
            } }else {{
<span class="fc" id="L777">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16219);fallbackTextHandler.drawString(this, s, x, y);</span>
            }
<span class="nc" id="L779">        }} catch (IOException ioe) {</span>
<span class="nc" id="L780">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16220);handleIOException(ioe);</span>
<span class="fc" id="L781">        }</span>
<span class="fc" id="L782">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Fills the interior of a &lt;code&gt;Shape&lt;/code&gt; using the settings of the
     * &lt;code&gt;Graphics2D&lt;/code&gt; context. The rendering attributes applied
     * include the &lt;code&gt;Clip&lt;/code&gt;, &lt;code&gt;Transform&lt;/code&gt;,
     * &lt;code&gt;Paint&lt;/code&gt;, and &lt;code&gt;Composite&lt;/code&gt;.
     * @param s the &lt;code&gt;Shape&lt;/code&gt; to be filled
     * @see #setPaint
     * @see java.awt.Graphics#setColor
     * @see #transform
     * @see #setTransform
     * @see #setComposite
     * @see #clip
     * @see #setClip
     */
<span class="fc" id="L798">    public void fill(Shape s) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16221);</span>
<span class="pc bpc" id="L799" title="4 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16222);if ((((!hasAlpha())&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16223)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16224)==0&amp;false))) {{</span>
<span class="fc" id="L800">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16225);preparePainting();</span>
<span class="fc" id="L801">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16226);try {</span>
<span class="fc" id="L802">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16227);gen.saveGraphicsState();</span>

<span class="fc" id="L804">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16228);AffineTransform trans = getTransform();</span>
<span class="pc bpc" id="L805" title="1 of 2 branches missed.">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16229);boolean newTransform = !trans.isIdentity();</span>

<span class="pc bpc" id="L807" title="7 of 10 branches missed.">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16230);if ((((newTransform)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16231)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16232)==0&amp;false))) {{</span>
<span class="nc" id="L808">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16233);gen.concatMatrix(trans);</span>
                }
<span class="fc" id="L810">                }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16234);Shape imclip = getClip();</span>
<span class="pc bpc" id="L811" title="7 of 10 branches missed.">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16235);if ((((shouldBeClipped(imclip, s))&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16236)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16237)==0&amp;false))) {{</span>
<span class="nc" id="L812">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16238);writeClip(imclip);</span>
                }

<span class="fc" id="L815">                }__CLR4_5_2c9zc9zm68iyhxt.R.inc(16239);establishColor(getColor());</span>

<span class="fc" id="L817">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16240);applyPaint(getPaint(), true);</span>

<span class="fc" id="L819">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16241);gen.writeln(gen.mapCommand(&quot;newpath&quot;));</span>
<span class="fc" id="L820">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16242);int windingRule = processShape(s, true);</span>
<span class="pc bpc" id="L821" title="1 of 2 branches missed.">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16243);doDrawing(true, false,</span>
                    windingRule == PathIterator.WIND_EVEN_ODD);
<span class="fc" id="L823">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16244);gen.restoreGraphicsState();</span>
<span class="nc" id="L824">            } catch (IOException ioe) {</span>
<span class="nc" id="L825">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16245);handleIOException(ioe);</span>
<span class="fc" id="L826">            }</span>
        }
<span class="fc" id="L828">    }}finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

<span class="fc" id="L830">    private boolean hasAlpha() {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16246);</span>
<span class="fc" id="L831">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16247);Composite composite = getComposite();</span>
<span class="pc bpc" id="L832" title="1 of 4 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16248);return composite instanceof AlphaComposite &amp;&amp; ((AlphaComposite) composite).getAlpha() == 0f;</span>
<span class="fc" id="L833">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Commits a painting operation.
     * @param fill filling
     * @param stroke stroking
     * @param nonzero true if the non-zero winding rule should be used when filling
     * @exception IOException In case of an I/O problem
     */
    protected void doDrawing(boolean fill, boolean stroke, boolean nonzero)
<span class="fc" id="L843">                throws IOException {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16249);</span>
<span class="fc" id="L844">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16250);preparePainting();</span>
<span class="pc bpc" id="L845" title="4 of 10 branches missed.">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16251);if ((((fill)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16252)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16253)==0&amp;false))) {{</span>
<span class="pc bpc" id="L846" title="7 of 10 branches missed.">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16254);if ((((stroke)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16255)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16256)==0&amp;false))) {{</span>
<span class="nc bnc" id="L847" title="All 10 branches missed.">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16257);if ((((!nonzero)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16258)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16259)==0&amp;false))) {{</span>
<span class="nc" id="L848">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16260);gen.writeln(gen.mapCommand(&quot;gsave&quot;) + &quot; &quot;</span>
<span class="nc" id="L849">                            + gen.mapCommand(&quot;fill&quot;) + &quot; &quot;</span>
<span class="nc" id="L850">                            + gen.mapCommand(&quot;grestore&quot;) + &quot; &quot;</span>
<span class="nc" id="L851">                            + gen.mapCommand(&quot;stroke&quot;));</span>
                } }else {{
<span class="nc" id="L853">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16261);gen.writeln(gen.mapCommand(&quot;gsave&quot;) + &quot; &quot;</span>
<span class="nc" id="L854">                            + gen.mapCommand(&quot;eofill&quot;) + &quot; &quot;</span>
<span class="nc" id="L855">                            + gen.mapCommand(&quot;grestore&quot;) + &quot; &quot;</span>
<span class="nc" id="L856">                            + gen.mapCommand(&quot;stroke&quot;));</span>
                }
            }} }else {{
<span class="pc bpc" id="L859" title="7 of 10 branches missed.">                __CLR4_5_2c9zc9zm68iyhxt.R.inc(16262);if ((((!nonzero)&amp;&amp;(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16263)!=0|true))||(__CLR4_5_2c9zc9zm68iyhxt.R.iget(16264)==0&amp;false))) {{</span>
<span class="fc" id="L860">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16265);gen.writeln(gen.mapCommand(&quot;fill&quot;));</span>
                } }else {{
<span class="nc" id="L862">                    __CLR4_5_2c9zc9zm68iyhxt.R.inc(16266);gen.writeln(gen.mapCommand(&quot;eofill&quot;));</span>
                }
            }}
        }} }else {{
            // if(stroke)
<span class="fc" id="L867">            __CLR4_5_2c9zc9zm68iyhxt.R.inc(16267);gen.writeln(gen.mapCommand(&quot;stroke&quot;));</span>
        }
<span class="fc" id="L869">    }}finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Returns the device configuration associated with this
     * &lt;code&gt;Graphics2D&lt;/code&gt;.
     * @return the device configuration
     */
<span class="nc" id="L876">    public GraphicsConfiguration getDeviceConfiguration() {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16268);</span>
<span class="nc" id="L877">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16269);return new GraphicsConfigurationWithoutTransparency();</span>
<span class="nc" id="L878">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Used to create proper font metrics
     */
    private Graphics2D fmg;

<span class="pc" id="L885">    {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16270);</span>
<span class="pc" id="L886">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16271);BufferedImage bi = new BufferedImage(1, 1,</span>
                                             BufferedImage.TYPE_INT_ARGB);

<span class="pc" id="L889">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16272);fmg = bi.createGraphics();</span>
<span class="pc" id="L890">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Gets the font metrics for the specified font.
     * @return    the font metrics for the specified font.
     * @param     f the specified font
     * @see       java.awt.Graphics#getFont
     * @see       java.awt.FontMetrics
     * @see       java.awt.Graphics#getFontMetrics()
     */
<span class="nc" id="L900">    public java.awt.FontMetrics getFontMetrics(java.awt.Font f) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16273);</span>
<span class="nc" id="L901">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16274);return fmg.getFontMetrics(f);</span>
<span class="nc" id="L902">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /**
     * Sets the paint mode of this graphics context to alternate between
     * this graphics context's current color and the new specified color.
     * This specifies that logical pixel operations are performed in the
     * XOR mode, which alternates pixels between the current color and
     * a specified XOR color.
     * &lt;p&gt;
     * When drawing operations are performed, pixels which are the
     * current color are changed to the specified color, and vice versa.
     * &lt;p&gt;
     * Pixels that are of colors other than those two colors are changed
     * in an unpredictable but reversible manner; if the same figure is
     * drawn twice, then all pixels are restored to their original values.
     * @param     c1 the XOR alternation color
     */
<span class="nc" id="L919">    public void setXORMode(Color c1) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16275);</span>
<span class="nc" id="L920">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16276);System.err.println(&quot;NYI: setXORMode&quot;);</span>
<span class="nc" id="L921">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>


    /**
     * Copies an area of the component by a distance specified by
     * &lt;code&gt;dx&lt;/code&gt; and &lt;code&gt;dy&lt;/code&gt;. From the point specified
     * by &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;, this method
     * copies downwards and to the right.  To copy an area of the
     * component to the left or upwards, specify a negative value for
     * &lt;code&gt;dx&lt;/code&gt; or &lt;code&gt;dy&lt;/code&gt;.
     * If a portion of the source rectangle lies outside the bounds
     * of the component, or is obscured by another window or component,
     * &lt;code&gt;copyArea&lt;/code&gt; will be unable to copy the associated
     * pixels. The area that is omitted can be refreshed by calling
     * the component's &lt;code&gt;paint&lt;/code&gt; method.
     * @param       x the &lt;i&gt;x&lt;/i&gt; coordinate of the source rectangle.
     * @param       y the &lt;i&gt;y&lt;/i&gt; coordinate of the source rectangle.
     * @param       width the width of the source rectangle.
     * @param       height the height of the source rectangle.
     * @param       dx the horizontal distance to copy the pixels.
     * @param       dy the vertical distance to copy the pixels.
     */
    public void copyArea(int x, int y, int width, int height, int dx,
<span class="nc" id="L944">                         int dy) {try{__CLR4_5_2c9zc9zm68iyhxt.R.inc(16277);</span>
<span class="nc" id="L945">        __CLR4_5_2c9zc9zm68iyhxt.R.inc(16278);System.err.println(&quot;NYI: copyArea&quot;);</span>
<span class="nc" id="L946">    }finally{__CLR4_5_2c9zc9zm68iyhxt.R.flushNeeded();}}</span>

    /* --- for debugging
    public void transform(AffineTransform tx) {
        System.out.println(&quot;transform(&quot; + toArray(tx) + &quot;)&quot;);
        super.transform(zx);
    }

    public void scale(double sx, double sy) {
        System.out.println(&quot;scale(&quot; + sx + &quot;, &quot; + sy + &quot;)&quot;);
        super.scale(sx, sy);
    }

    public void translate(double tx, double ty) {
        System.out.println(&quot;translate(double &quot; + tx + &quot;, &quot; + ty + &quot;)&quot;);
        super.translate(tx, ty);
    }

    public void translate(int tx, int ty) {
        System.out.println(&quot;translate(int &quot; + tx + &quot;, &quot; + ty + &quot;)&quot;);
        super.translate(tx, ty);
    }
    */

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>