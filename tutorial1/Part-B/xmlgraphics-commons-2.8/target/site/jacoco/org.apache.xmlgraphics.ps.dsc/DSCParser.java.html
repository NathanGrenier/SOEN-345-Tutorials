<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DSCParser.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">org.apache.xmlgraphics:xmlgraphics-commons</a> &gt; <a href="index.source.html" class="el_package">org.apache.xmlgraphics.ps.dsc</a> &gt; <span class="el_source">DSCParser.java</span></div><h1>DSCParser.java</h1><pre class="source lang-java linenums">/* $$ This file has been instrumented by Clover 4.5.2#20240131180750 $$ *//*
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/* $Id: DSCParser.java 1804124 2017-08-04 14:13:54Z ssteiner $ */

package org.apache.xmlgraphics.ps.dsc;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.UnsupportedEncodingException;
import java.util.List;
import java.util.NoSuchElementException;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;

import org.apache.xmlgraphics.ps.DSCConstants;
import org.apache.xmlgraphics.ps.PSGenerator;
import org.apache.xmlgraphics.ps.dsc.events.DSCAtend;
import org.apache.xmlgraphics.ps.dsc.events.DSCComment;
import org.apache.xmlgraphics.ps.dsc.events.DSCEvent;
import org.apache.xmlgraphics.ps.dsc.events.DSCHeaderComment;
import org.apache.xmlgraphics.ps.dsc.events.PostScriptComment;
import org.apache.xmlgraphics.ps.dsc.events.PostScriptLine;
import org.apache.xmlgraphics.ps.dsc.events.UnparsedDSCComment;
import org.apache.xmlgraphics.ps.dsc.tools.DSCTools;

/**
 * Parser for DSC-compliant PostScript files (DSC = Document Structuring Conventions). The parser
 * is implemented as a pull parser but has the ability to act as a push parser through the
 * DSCHandler interface.
 */
<span class="pc bpc" id="L48" title="3 of 4 branches missed.">@java.lang.SuppressWarnings({&quot;fallthrough&quot;}) public class DSCParser implements DSCParserConstants {public static class __CLR4_5_2ea7ea7m68iyi69{public static com_atlassian_clover.CoverageRecorder R;public static com_atlassian_clover.CloverProfile[] profiles = { };@java.lang.SuppressWarnings(&quot;unchecked&quot;) public static &lt;I, T extends I&gt; I lambdaInc(final int i,final T l,final int si){java.lang.reflect.InvocationHandler h=new java.lang.reflect.InvocationHandler(){public java.lang.Object invoke(java.lang.Object p,java.lang.reflect.Method m,java.lang.Object[] a) throws Throwable{R.inc(i);R.inc(si);try{return m.invoke(l,a);}catch(java.lang.reflect.InvocationTargetException e){throw e.getCause()!=null?e.getCause():new RuntimeException(&quot;Clover failed to invoke instrumented lambda&quot;,e);}}};return (I)java.lang.reflect.Proxy.newProxyInstance(l.getClass().getClassLoader(),l.getClass().getInterfaces(),h);}public static &lt;T&gt; T caseInc(int i,java.util.function.Supplier&lt;T&gt; s){R.inc(i);return s.get();}public static void caseInc(int i,Runnable r){R.inc(i);r.run();}static{com_atlassian_clover.CoverageRecorder _R=null;try{com_atlassian_clover.CloverVersionInfo.An_old_version_of_clover_is_on_your_compilation_classpath___Please_remove___Required_version_is___4_5_2();if(20240131180750L!=com_atlassian_clover.CloverVersionInfo.getBuildStamp()){com_atlassian_clover.Clover.l(&quot;[CLOVER] WARNING: The Clover version used in instrumentation shall match the runtime version.&quot;);com_atlassian_clover.Clover.l(&quot;[CLOVER] WARNING: Instr=4.5.2#20240131180750,Runtime=&quot;+com_atlassian_clover.CloverVersionInfo.getReleaseNum()+&quot;#&quot;+com_atlassian_clover.CloverVersionInfo.getBuildStamp());}R=com_atlassian_clover.Clover.getNullRecorder();_R=com_atlassian_clover.Clover.getNullRecorder();_R=com_atlassian_clover.Clover.getRecorder(&quot;\u002f\u0063\u006f\u0064\u0065\u002f\u0063\u006f\u006e\u0063\u006f\u0072\u0064\u0069\u0061\u002f\u0053\u004f\u0045\u004e\u002d\u0033\u0034\u0035\u002d\u0054\u0075\u0074\u006f\u0072\u0069\u0061\u006c\u0073\u002f\u0074\u0075\u0074\u006f\u0072\u0069\u0061\u006c\u0031\u002f\u0050\u0061\u0072\u0074\u002d\u0042\u002f\u0078\u006d\u006c\u0067\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u002d\u0063\u006f\u006d\u006d\u006f\u006e\u0073\u002d\u0032\u002e\u0038\u002f\u0074\u0061\u0072\u0067\u0065\u0074\u002f\u0063\u006c\u006f\u0076\u0065\u0072\u002f\u0063\u006c\u006f\u0076\u0065\u0072\u002e\u0064\u0062&quot;,1737587872955L,8589935092L,18763,profiles,new java.lang.String[]{&quot;clover.distributed.coverage&quot;,null});}catch(java.lang.SecurityException e){java.lang.System.err.println(&quot;[CLOVER] FATAL ERROR: Clover could not be initialised because it has insufficient security privileges. Please consult the Clover documentation on the security policy file changes required. (&quot;+e.getClass()+&quot;:&quot;+e.getMessage()+&quot;)&quot;);}catch(java.lang.NoClassDefFoundError e){java.lang.System.err.println(&quot;[CLOVER] FATAL ERROR: Clover could not be initialised. Are you sure you have Clover in the runtime classpath? (&quot;+e.getClass()+&quot;:&quot;+e.getMessage()+&quot;)&quot;);}catch(java.lang.Throwable t){java.lang.System.err.println(&quot;[CLOVER] FATAL ERROR: Clover could not be initialised because of an unexpected error. (&quot;+t.getClass()+&quot;:&quot;+t.getMessage()+&quot;)&quot;);}R=_R;}}public static final com_atlassian_clover.TestNameSniffer __CLR4_5_2_TEST_NAME_SNIFFER=com_atlassian_clover.TestNameSniffer.NULL_INSTANCE;</span>
<span class="fc" id="L49">    private static final Log LOG = LogFactory.getLog(DSCParser.class);</span>

    private InputStream in;
    private BufferedReader reader;
    private boolean eofFound;
<span class="fc" id="L54">    private boolean checkEOF = true;</span>
    private DSCEvent currentEvent;
    private DSCEvent nextEvent;
    private DSCListener nestedDocumentHandler;
    private DSCListener filterListener;
    private List listeners;
    private boolean listenersDisabled;

    /**
     * Creates a new DSC parser.
     * @param in InputStream to read the PostScript file from
     *              (the stream is not closed by this class, the caller is responsible for that)
     * @throws IOException In case of an I/O error
     * @throws DSCException In case of a violation of the DSC spec
     */
<span class="fc" id="L69">    public DSCParser(InputStream in) throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18511);</span>
<span class="pc bpc" id="L70" title="7 of 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18512);if ((((in.markSupported())&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18513)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18514)==0&amp;false))) {{</span>
<span class="fc" id="L71">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18515);this.in = in;</span>
        } }else {{
            //Decorate for better performance
<span class="nc" id="L74">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18516);this.in = new java.io.BufferedInputStream(this.in);</span>
        }
<span class="fc" id="L76">        }__CLR4_5_2ea7ea7m68iyi69.R.inc(18517);String encoding = &quot;US-ASCII&quot;;</span>
<span class="fc" id="L77">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18518);try {</span>
<span class="fc" id="L78">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18519);this.reader = new java.io.BufferedReader(</span>
                    new java.io.InputStreamReader(this.in, encoding));
<span class="nc" id="L80">        } catch (UnsupportedEncodingException e) {</span>
<span class="nc" id="L81">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18520);throw new RuntimeException(&quot;Incompatible VM! &quot; + e.getMessage());</span>
<span class="fc" id="L82">        }</span>
<span class="fc" id="L83">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18521);parseNext();</span>
<span class="fc" id="L84">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Returns the InputStream the PostScript code is read from.
     * @return the InputStream the PostScript code is read from
     */
<span class="nc" id="L90">    public InputStream getInputStream() {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18522);</span>
<span class="nc" id="L91">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18523);return this.in;</span>
<span class="nc" id="L92">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * This method is used to write out warning messages for the parsing process. Subclass to
     * override this method. The default implementation writes to logger.
     * @param msg the warning message
     */
<span class="nc" id="L99">    protected void warn(String msg) {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18524);</span>
<span class="nc" id="L100">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18525);LOG.warn(msg);</span>
<span class="nc" id="L101">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Reads one line from the input file
     * @return the line or null if there are no more lines
     * @throws IOException In case of an I/O error
     * @throws DSCException In case of a violation of the DSC spec
     */
<span class="fc" id="L109">    protected String readLine() throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18526);</span>
<span class="fc" id="L110">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18527);String line;</span>
<span class="fc" id="L111">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18528);line = this.reader.readLine();</span>
<span class="fc" id="L112">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18529);checkLine(line);</span>

<span class="fc" id="L114">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18530);return line;</span>
<span class="fc" id="L115">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

<span class="fc" id="L117">    private void checkLine(String line) throws DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18531);</span>
<span class="pc bpc" id="L118" title="4 of 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18532);if ((((line == null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18533)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18534)==0&amp;false))) {{</span>
<span class="pc bpc" id="L119" title="7 of 10 branches missed.">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18535);if ((((!eofFound)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18536)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18537)==0&amp;false))) {{</span>
<span class="nc" id="L120">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18538);throw new DSCException(&quot;%%EOF not found. File is not well-formed.&quot;);</span>
            }
<span class="pc bpc" id="L122" title="7 of 10 branches missed.">        }} }else {__CLR4_5_2ea7ea7m68iyi69.R.inc(18539);if ((((line.length() &gt; 255)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18540)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18541)==0&amp;false))) {{</span>
<span class="nc" id="L123">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18542);warn(&quot;Line longer than 255 characters. This file is not fully PostScript conforming.&quot;);</span>
        }
<span class="fc" id="L125">    }}}finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

<span class="fc" id="L127">    private boolean isWhitespace(char c) {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18543);</span>
<span class="pc bpc" id="L128" title="1 of 4 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18544);return c == ' ' || c == '\t';</span>
<span class="fc" id="L129">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

<span class="fc" id="L131">    private DSCComment parseDSCLine(String line) throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18545);</span>
<span class="fc" id="L132">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18546);int colon = line.indexOf(':');</span>
<span class="fc" id="L133">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18547);String name;</span>
<span class="fc" id="L134">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18548);StringBuilder value = new StringBuilder();</span>
<span class="pc bpc" id="L135" title="4 of 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18549);if ((((colon &gt; 0)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18550)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18551)==0&amp;false))) {{</span>
<span class="fc" id="L136">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18552);name = line.substring(2, colon);</span>
<span class="fc" id="L137">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18553);int startOfValue = colon + 1;</span>
<span class="pc bpc" id="L138" title="7 of 10 branches missed.">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18554);if ((((startOfValue &lt; line.length())&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18555)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18556)==0&amp;false))) {{</span>
<span class="pc bpc" id="L139" title="4 of 10 branches missed.">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18557);if ((((isWhitespace(line.charAt(startOfValue)))&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18558)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18559)==0&amp;false))) {{</span>
<span class="fc" id="L140">                    __CLR4_5_2ea7ea7m68iyi69.R.inc(18560);startOfValue++;</span>
                }
<span class="fc" id="L142">                }__CLR4_5_2ea7ea7m68iyi69.R.inc(18561);value = new StringBuilder(line.substring(startOfValue).trim());</span>
<span class="pc bpc" id="L143" title="7 of 10 branches missed.">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18562);if ((((value.toString().equals(DSCConstants.ATEND.toString()))&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18563)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18564)==0&amp;false))) {{</span>
<span class="nc" id="L144">                    __CLR4_5_2ea7ea7m68iyi69.R.inc(18565);return new DSCAtend(name);</span>
                }
            }}
<span class="fc" id="L147">            }__CLR4_5_2ea7ea7m68iyi69.R.inc(18566);String nextLine;</span>
<span class="fc" id="L148">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18567);while (true) {{</span>
<span class="fc" id="L149">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18568);this.reader.mark(512);</span>
<span class="fc" id="L150">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18569);nextLine = readLine();</span>
<span class="pc bpc" id="L151" title="7 of 10 branches missed.">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18570);if ((((nextLine == null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18571)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18572)==0&amp;false))) {{</span>
<span class="nc" id="L152">                    __CLR4_5_2ea7ea7m68iyi69.R.inc(18573);break;</span>
<span class="pc bpc" id="L153" title="4 of 10 branches missed.">                } }else {__CLR4_5_2ea7ea7m68iyi69.R.inc(18574);if ((((!nextLine.startsWith(&quot;%%+&quot;))&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18575)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18576)==0&amp;false))) {{</span>
<span class="fc" id="L154">                    __CLR4_5_2ea7ea7m68iyi69.R.inc(18577);break;</span>
                }
<span class="fc" id="L156">                }}__CLR4_5_2ea7ea7m68iyi69.R.inc(18578);value.append(nextLine.substring(3));</span>
            }
<span class="fc" id="L158">            }__CLR4_5_2ea7ea7m68iyi69.R.inc(18579);this.reader.reset();</span>
<span class="fc" id="L159">        } }else {{</span>
<span class="fc" id="L160">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18580);name = line.substring(2);</span>
<span class="fc" id="L161">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18581);return parseDSCComment(name, null);</span>
        }
<span class="fc" id="L163">        }__CLR4_5_2ea7ea7m68iyi69.R.inc(18582);return parseDSCComment(name, value.toString());</span>
<span class="fc" id="L164">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

<span class="fc" id="L166">    private DSCComment parseDSCComment(String name, String value) {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18583);</span>
<span class="fc" id="L167">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18584);DSCComment parsed = DSCCommentFactory.createDSCCommentFor(name);</span>
<span class="pc bpc" id="L168" title="4 of 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18585);if ((((parsed != null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18586)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18587)==0&amp;false))) {{</span>
<span class="fc" id="L169">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18588);try {</span>
<span class="fc" id="L170">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18589);parsed.parseValue(value);</span>
<span class="fc" id="L171">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18590);return parsed;</span>
<span class="nc" id="L172">            } catch (Exception e) {</span>
                //ignore and fall back to unparsed DSC comment
            }
        }
<span class="fc" id="L176">        }__CLR4_5_2ea7ea7m68iyi69.R.inc(18591);UnparsedDSCComment unparsed = new UnparsedDSCComment(name);</span>
<span class="fc" id="L177">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18592);unparsed.parseValue(value);</span>
<span class="fc" id="L178">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18593);return unparsed;</span>
<span class="fc" id="L179">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Starts the parser in push parsing mode sending events to the DSCHandler instance.
     * @param handler the DSCHandler instance to send the events to
     * @throws IOException In case of an I/O error
     * @throws DSCException In case of a violation of the DSC spec
     */
<span class="nc" id="L187">    public void parse(DSCHandler handler) throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18594);</span>
<span class="nc" id="L188">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18595);DSCHeaderComment header = DSCTools.checkAndSkipDSC30Header(this);</span>
<span class="nc" id="L189">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18596);handler.startDocument(&quot;%!&quot; + header.getComment());</span>
<span class="nc" id="L190">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18597);DSCEvent event;</span>
<span class="nc bnc" id="L191" title="All 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18598);while ((((hasNext())&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18599)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18600)==0&amp;false))) {{</span>
<span class="nc" id="L192">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18601);event = nextEvent();</span>
<span class="nc bnc" id="L193" title="All 6 branches missed.">            boolean __CLB4_5_2_bool0=false;__CLR4_5_2ea7ea7m68iyi69.R.inc(18602);switch (event.getEventType()) {</span>
<span class="nc bnc" id="L194" title="All 2 branches missed.">            case HEADER_COMMENT:if (!__CLB4_5_2_bool0) {__CLR4_5_2ea7ea7m68iyi69.R.inc(18603);__CLB4_5_2_bool0=true;}</span>
<span class="nc" id="L195">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18604);handler.startDocument(&quot;%!&quot; + ((DSCHeaderComment)event).getComment());</span>
<span class="nc" id="L196">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18605);break;</span>
<span class="nc bnc" id="L197" title="All 2 branches missed.">            case DSC_COMMENT:if (!__CLB4_5_2_bool0) {__CLR4_5_2ea7ea7m68iyi69.R.inc(18606);__CLB4_5_2_bool0=true;}</span>
<span class="nc" id="L198">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18607);handler.handleDSCComment(event.asDSCComment());</span>
<span class="nc" id="L199">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18608);break;</span>
<span class="nc bnc" id="L200" title="All 2 branches missed.">            case COMMENT:if (!__CLB4_5_2_bool0) {__CLR4_5_2ea7ea7m68iyi69.R.inc(18609);__CLB4_5_2_bool0=true;}</span>
<span class="nc" id="L201">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18610);handler.comment(((PostScriptComment)event).getComment());</span>
<span class="nc" id="L202">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18611);break;</span>
<span class="nc bnc" id="L203" title="All 2 branches missed.">            case LINE:if (!__CLB4_5_2_bool0) {__CLR4_5_2ea7ea7m68iyi69.R.inc(18612);__CLB4_5_2_bool0=true;}</span>
<span class="nc" id="L204">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18613);handler.line(getLine());</span>
<span class="nc" id="L205">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18614);break;</span>
<span class="nc bnc" id="L206" title="All 2 branches missed.">            case EOF:if (!__CLB4_5_2_bool0) {__CLR4_5_2ea7ea7m68iyi69.R.inc(18615);__CLB4_5_2_bool0=true;}</span>
<span class="nc" id="L207">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18616);handler.endDocument();</span>
<span class="nc" id="L208">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18617);break;</span>
<span class="nc bnc" id="L209" title="All 2 branches missed.">            default:if (!__CLB4_5_2_bool0) {__CLR4_5_2ea7ea7m68iyi69.R.inc(18618);__CLB4_5_2_bool0=true;}</span>
<span class="nc" id="L210">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18619);throw new IllegalStateException(&quot;Illegal event type: &quot; + event.getEventType());</span>
            }
<span class="nc" id="L212">        }</span>
<span class="nc" id="L213">    }}finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Indicates whether there are additional items.
     * @return true if there are additonal items, false if the end of the file has been reached
     */
<span class="fc" id="L219">    public boolean hasNext() {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18620);</span>
<span class="fc bfc" id="L220" title="All 2 branches covered.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18621);return (this.nextEvent != null);</span>
<span class="fc" id="L221">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Steps to the next item indicating the type of event.
     * @return the type of event (See {@link DSCParserConstants})
     * @throws IOException In case of an I/O error
     * @throws DSCException In case of a violation of the DSC spec
     * @throws NoSuchElementException If an attempt was made to advance beyond the end of the file
     */
<span class="fc" id="L230">    public int next() throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18622);</span>
<span class="pc bpc" id="L231" title="7 of 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18623);if ((((hasNext())&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18624)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18625)==0&amp;false))) {{</span>
<span class="fc" id="L232">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18626);this.currentEvent = nextEvent;</span>
<span class="fc" id="L233">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18627);parseNext();</span>

<span class="fc" id="L235">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18628);processListeners();</span>

<span class="fc" id="L237">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18629);return this.currentEvent.getEventType();</span>
        } }else {{
<span class="nc" id="L239">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18630);throw new NoSuchElementException(&quot;There are no more events&quot;);</span>
        }
<span class="fc" id="L241">    }}finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

<span class="fc" id="L243">    private void processListeners() throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18631);</span>
<span class="pc bpc" id="L244" title="7 of 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18632);if ((((isListenersDisabled())&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18633)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18634)==0&amp;false))) {{</span>
<span class="nc" id="L245">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18635);return;</span>
        }
<span class="pc bpc" id="L247" title="4 of 10 branches missed.">        }__CLR4_5_2ea7ea7m68iyi69.R.inc(18636);if ((((this.filterListener != null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18637)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18638)==0&amp;false))) {{</span>
            //Filter always comes first
<span class="fc" id="L249">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18639);this.filterListener.processEvent(this.currentEvent, this);</span>
        }
<span class="pc bpc" id="L251" title="4 of 10 branches missed.">        }__CLR4_5_2ea7ea7m68iyi69.R.inc(18640);if ((((this.listeners != null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18641)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18642)==0&amp;false))) {{</span>
<span class="fc bfc" id="L252" title="All 2 branches covered.">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18643);for (Object listener : this.listeners) {{</span>
<span class="fc" id="L253">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18644);((DSCListener) listener).processEvent(this.currentEvent, this);</span>
            }
<span class="fc" id="L255">        }}</span>
<span class="fc" id="L256">    }}finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Steps to the next item returning the new event.
     * @return the new event
     * @throws IOException In case of an I/O error
     * @throws DSCException In case of a violation of the DSC spec
     */
<span class="fc" id="L264">    public DSCEvent nextEvent() throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18645);</span>
<span class="fc" id="L265">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18646);next();</span>
<span class="fc" id="L266">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18647);return getCurrentEvent();</span>
<span class="fc" id="L267">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Returns the current event.
     * @return the current event
     */
<span class="fc" id="L273">    public DSCEvent getCurrentEvent() {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18648);</span>
<span class="fc" id="L274">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18649);return this.currentEvent;</span>
<span class="fc" id="L275">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Returns the next event without moving the cursor to the next event.
     * @return the next event
     */
<span class="nc" id="L281">    public DSCEvent peek() {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18650);</span>
<span class="nc" id="L282">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18651);return this.nextEvent;</span>
<span class="nc" id="L283">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Parses the next event.
     * @throws IOException In case of an I/O error
     * @throws DSCException In case of a violation of the DSC spec
     */
<span class="fc" id="L290">    protected void parseNext() throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18652);</span>
<span class="fc" id="L291">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18653);String line = readLine();</span>
<span class="pc bpc" id="L292" title="4 of 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18654);if ((((line != null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18655)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18656)==0&amp;false))) {{</span>
<span class="pc bpc" id="L293" title="5 of 14 branches missed.">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18657);if ((((isCheckEOF() &amp;&amp; eofFound &amp;&amp; (line.length() &gt; 0))&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18658)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18659)==0&amp;false))) {{</span>
<span class="fc" id="L294">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18660);throw new DSCException(&quot;Content found after EOF&quot;);</span>
            }
<span class="pc bpc" id="L296" title="4 of 10 branches missed.">            }__CLR4_5_2ea7ea7m68iyi69.R.inc(18661);if ((((line.startsWith(&quot;%%&quot;))&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18662)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18663)==0&amp;false))) {{</span>
<span class="fc" id="L297">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18664);DSCComment comment = parseDSCLine(line);</span>
<span class="pc bpc" id="L298" title="4 of 10 branches missed.">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18665);if ((((comment.getEventType() == EOF)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18666)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18667)==0&amp;false))) {{</span>
<span class="fc" id="L299">                    __CLR4_5_2ea7ea7m68iyi69.R.inc(18668);this.eofFound = true;</span>
                }
<span class="fc" id="L301">                }__CLR4_5_2ea7ea7m68iyi69.R.inc(18669);this.nextEvent = comment;</span>
<span class="pc bpc" id="L302" title="4 of 10 branches missed.">            } }else {__CLR4_5_2ea7ea7m68iyi69.R.inc(18670);if ((((line.startsWith(&quot;%!&quot;))&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18671)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18672)==0&amp;false))) {{</span>
<span class="fc" id="L303">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18673);this.nextEvent = new DSCHeaderComment(line.substring(2));</span>
<span class="pc bpc" id="L304" title="4 of 10 branches missed.">            } }else {__CLR4_5_2ea7ea7m68iyi69.R.inc(18674);if ((((line.startsWith(&quot;%&quot;))&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18675)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18676)==0&amp;false))) {{</span>
<span class="fc" id="L305">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18677);this.nextEvent = new PostScriptComment(line.substring(1));</span>
            } }else {{
<span class="fc" id="L307">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18678);this.nextEvent = new PostScriptLine(line);</span>
            }
        }}}} }else {{
<span class="fc" id="L310">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18679);this.nextEvent = null;</span>
        }
<span class="fc" id="L312">    }}finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Returns the current PostScript line.
     * @return the current PostScript line
     * @throws IllegalStateException if the current event is not a normal PostScript line
     */
<span class="nc" id="L319">    public String getLine() {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18680);</span>
<span class="nc bnc" id="L320" title="All 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18681);if ((((this.currentEvent.getEventType() == LINE)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18682)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18683)==0&amp;false))) {{</span>
<span class="nc" id="L321">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18684);return ((PostScriptLine)this.currentEvent).getLine();</span>
        } }else {{
<span class="nc" id="L323">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18685);throw new IllegalStateException(&quot;Current event is not a PostScript line&quot;);</span>
        }
<span class="nc" id="L325">    }}finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Advances to the next DSC comment with the given name.
     * @param name the name of the DSC comment
     * @return the requested DSC comment or null if the end of the file is reached
     * @throws IOException In case of an I/O error
     * @throws DSCException In case of a violation of the DSC spec
     */
    public DSCComment nextDSCComment(String name)
<span class="nc" id="L335">                throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18686);</span>
<span class="nc" id="L336">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18687);return nextDSCComment(name, null);</span>
<span class="nc" id="L337">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Advances to the next DSC comment with the given name.
     * @param name the name of the DSC comment
     * @param gen PSGenerator to pass the skipped events though to
     * @return the requested DSC comment or null if the end of the file is reached
     * @throws IOException In case of an I/O error
     * @throws DSCException In case of a violation of the DSC spec
     */
    public DSCComment nextDSCComment(String name, PSGenerator gen)
<span class="nc" id="L348">                throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18688);</span>
<span class="nc bnc" id="L349" title="All 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18689);while ((((hasNext())&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18690)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18691)==0&amp;false))) {{</span>
<span class="nc" id="L350">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18692);DSCEvent event = nextEvent();</span>
<span class="nc bnc" id="L351" title="All 10 branches missed.">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18693);if ((((event.isDSCComment())&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18694)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18695)==0&amp;false))) {{</span>
<span class="nc" id="L352">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18696);DSCComment comment = event.asDSCComment();</span>
<span class="nc bnc" id="L353" title="All 10 branches missed.">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18697);if ((((name.equals(comment.getName()))&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18698)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18699)==0&amp;false))) {{</span>
<span class="nc" id="L354">                    __CLR4_5_2ea7ea7m68iyi69.R.inc(18700);return comment;</span>
                }
            }}
<span class="nc bnc" id="L357" title="All 10 branches missed.">            }__CLR4_5_2ea7ea7m68iyi69.R.inc(18701);if ((((gen != null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18702)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18703)==0&amp;false))) {{</span>
<span class="nc" id="L358">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18704);event.generate(gen); //Pipe through to PSGenerator</span>
            }
<span class="nc" id="L360">        }}</span>
<span class="nc" id="L361">        }__CLR4_5_2ea7ea7m68iyi69.R.inc(18705);return null;</span>
<span class="nc" id="L362">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Advances to the next PostScript comment with the given prefix. This is used to find
     * comments following the DSC extension mechanism.
     * &lt;p&gt;
     * Example: To find FOP's custom comments, pass in &quot;FOP&quot; as a prefix. This will find comments
     * like &quot;%FOPFontSetup&quot;.
     * @param prefix the prefix of the extension comment
     * @param gen PSGenerator to pass the skipped events though to
     * @return the requested PostScript comment or null if the end of the file is reached
     * @throws IOException In case of an I/O error
     * @throws DSCException In case of a violation of the DSC spec
     */
    public PostScriptComment nextPSComment(String prefix, PSGenerator gen)
<span class="nc" id="L377">                    throws IOException, DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18706);</span>
<span class="nc bnc" id="L378" title="All 10 branches missed.">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18707);while ((((hasNext())&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18708)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18709)==0&amp;false))) {{</span>
<span class="nc" id="L379">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18710);DSCEvent event = nextEvent();</span>
<span class="nc bnc" id="L380" title="All 10 branches missed.">                __CLR4_5_2ea7ea7m68iyi69.R.inc(18711);if ((((event.isComment())&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18712)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18713)==0&amp;false))) {{</span>
<span class="nc" id="L381">                    __CLR4_5_2ea7ea7m68iyi69.R.inc(18714);PostScriptComment comment = (PostScriptComment)event;</span>
<span class="nc bnc" id="L382" title="All 10 branches missed.">                    __CLR4_5_2ea7ea7m68iyi69.R.inc(18715);if ((((comment.getComment().startsWith(prefix))&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18716)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18717)==0&amp;false))) {{</span>
<span class="nc" id="L383">                        __CLR4_5_2ea7ea7m68iyi69.R.inc(18718);return comment;</span>
                    }
                }}
<span class="nc bnc" id="L386" title="All 10 branches missed.">                }__CLR4_5_2ea7ea7m68iyi69.R.inc(18719);if ((((gen != null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18720)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18721)==0&amp;false))) {{</span>
<span class="nc" id="L387">                    __CLR4_5_2ea7ea7m68iyi69.R.inc(18722);event.generate(gen); //Pipe through to PSGenerator</span>
                }
<span class="nc" id="L389">            }}</span>
<span class="nc" id="L390">            }__CLR4_5_2ea7ea7m68iyi69.R.inc(18723);return null;</span>
<span class="nc" id="L391">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Sets a filter for DSC events.
     * @param filter the filter to use or null to disable filtering
     */
<span class="fc" id="L397">    public void setFilter(DSCFilter filter) {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18724);</span>
<span class="pc bpc" id="L398" title="7 of 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18725);if ((((filter != null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18726)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18727)==0&amp;false))) {{</span>
<span class="fc" id="L399">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18728);this.filterListener = new FilteringEventListener(filter);</span>
        } }else {{
<span class="nc" id="L401">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18729);this.filterListener = null;</span>
        }
<span class="fc" id="L403">    }}finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Adds a DSC event listener.
     * @param listener the listener
     */
<span class="fc" id="L409">    public void addListener(DSCListener listener) {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18730);</span>
<span class="pc bpc" id="L410" title="7 of 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18731);if ((((listener == null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18732)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18733)==0&amp;false))) {{</span>
<span class="nc" id="L411">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18734);throw new NullPointerException(&quot;listener must not be null&quot;);</span>
        }
<span class="pc bpc" id="L413" title="4 of 10 branches missed.">        }__CLR4_5_2ea7ea7m68iyi69.R.inc(18735);if ((((this.listeners == null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18736)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18737)==0&amp;false))) {{</span>
<span class="fc" id="L414">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18738);this.listeners = new java.util.ArrayList();</span>
        }
<span class="fc" id="L416">        }__CLR4_5_2ea7ea7m68iyi69.R.inc(18739);this.listeners.add(listener);</span>
<span class="fc" id="L417">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Removes a DSC event listener.
     * @param listener the listener to remove
     */
<span class="nc" id="L423">    public void removeListener(DSCListener listener) {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18740);</span>
<span class="nc bnc" id="L424" title="All 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18741);if ((((this.listeners != null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18742)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18743)==0&amp;false))) {{</span>
<span class="nc" id="L425">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18744);this.listeners.remove(listener);</span>
        }
<span class="nc" id="L427">    }}finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Allows to disable all listeners. This can be used to disable any filtering, for example in
     * nested documents.
     * @param value true to disable all listeners, false to re-enable them
     */
<span class="nc" id="L434">    public void setListenersDisabled(boolean value) {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18745);</span>
<span class="nc" id="L435">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18746);this.listenersDisabled = value;</span>
<span class="nc" id="L436">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Indicates whether the listeners are currently disabled.
     * @return true if they are disabled
     */
<span class="fc" id="L442">    public boolean isListenersDisabled() {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18747);</span>
<span class="fc" id="L443">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18748);return this.listenersDisabled;</span>
<span class="fc" id="L444">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Sets a NestedDocumentHandler which is used to skip nested documents like embedded EPS files.
     * You can also process those parts in a special way.
     * &lt;p&gt;
     * It is suggested to use the more generally usable {@link #addListener(DSCListener)} and
     * {@link #removeListener(DSCListener)} instead. NestedDocumentHandler is internally
     * mapped onto a {@link DSCListener}.
     * @param handler the NestedDocumentHandler instance or null to disable the feature
     */
<span class="nc" id="L455">    public void setNestedDocumentHandler(final NestedDocumentHandler handler) {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18749);</span>
<span class="nc bnc" id="L456" title="All 10 branches missed.">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18750);if ((((handler == null)&amp;&amp;(__CLR4_5_2ea7ea7m68iyi69.R.iget(18751)!=0|true))||(__CLR4_5_2ea7ea7m68iyi69.R.iget(18752)==0&amp;false))) {{</span>
<span class="nc" id="L457">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18753);removeListener(this.nestedDocumentHandler);</span>
        } }else {{
<span class="nc" id="L459">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18754);MyDSCListener l = new MyDSCListener();</span>
<span class="nc" id="L460">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18755);l.handler = handler;</span>
<span class="nc" id="L461">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18756);addListener(l);</span>
        }
<span class="nc" id="L463">    }}finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

<span class="nc" id="L465">    static class MyDSCListener implements DSCListener {</span>
        private NestedDocumentHandler handler;
        public void processEvent(DSCEvent event, DSCParser parser) throws IOException,
<span class="nc" id="L468">                DSCException {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18757);</span>
<span class="nc" id="L469">            __CLR4_5_2ea7ea7m68iyi69.R.inc(18758);handler.handle(event, parser);</span>
<span class="nc" id="L470">        }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>
    }

    /**
     * Tells the parser whether to check for content after the EOF comment.
     * This can be disabled to skip nested documents.
     * @param value true if the check is enabled
     */
<span class="fc" id="L478">    public void setCheckEOF(boolean value) {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18759);</span>
<span class="fc" id="L479">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18760);this.checkEOF = value;</span>
<span class="fc" id="L480">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

    /**
     * Indicates whether the parser is configured to check for content after the EOF comment.
     * @return true if the check is enabled.
     */
<span class="fc" id="L486">    public boolean isCheckEOF() {try{__CLR4_5_2ea7ea7m68iyi69.R.inc(18761);</span>
<span class="fc" id="L487">        __CLR4_5_2ea7ea7m68iyi69.R.inc(18762);return this.checkEOF;</span>
<span class="fc" id="L488">    }finally{__CLR4_5_2ea7ea7m68iyi69.R.flushNeeded();}}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>